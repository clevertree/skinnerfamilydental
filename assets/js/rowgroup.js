"use strict";!function(t,e,i){var n=function(e,n){var o={auto:!1,arrows:!1,dots:!1,interval:5e3,duration:600,pause:!1,transition:"sliding","transition-md":"sliding","transition-sm":"sliding"};this.$element=t(e),this.$window=t(i),this.$rows=this.$element.children(),this.isRunning=void 0,this.rowCount=this.$rows.length,this.currentRow=0,this.isInTool=!1,this.options=t.extend({},o,n),this.windowWidth=t(i).width(),this.supportedTransition=this.whichTransitionEvent(),this.init()};n.prototype={init:function(){var t=this;if(t.options.dots&&t.createDots(),t.options.arrows&&t.createArrows(),document.body.hasAttribute("data-istool"))return t.isInTool=!0,!1;this.inViewRow=this.$element.find("> .row:first"),this.updateInViewClasses(),this.setViewport();var n="lg"==this.viewport?"transition":"transition-"+this.viewport;"sliding"===this.options[n]||["Puppeteer/imageSizesCrawler","PhantomJS/monoTool"].includes(i.navigator.userAgent)||(this.$rows.addClass("normalizeSize").css({opacity:0}),this.$rows.eq(0).removeClass("normalizeSize").css({opacity:1})),this.bindResizeEvent(),t.rowCount>0&&t.start(),!e.touchevents&&t.options.pause&&t.rowCount>0&&t.$element.on({mouseenter:function(){t.stop()},mouseleave:function(){t.start()}}),t.$element.on("swipe",function(e){var i="left"==e.direction?-e.delta.x:e.delta.x;t.$element.find(".row:first").css("margin-left",i+"px")}),t.$element.on("quickswipeleft",function(){t.$element.find(".row:first").css("margin-left",""),t.start(),t.nextRow(void 0,!1)}),t.$element.on("quickswiperight",function(){t.$element.find(".row:first").css("margin-left",""),t.start(),t.previousRow(void 0,!1)}),t.$element.on("swipeleft",function(e){t.$element.find(".row:first").css("margin-left",""),t.start(),e.delta.x>t.$element.width()/2&&t.nextRow(void 0,!1)}),t.$element.on("swiperight",function(e){t.$element.find(".row:first").css("margin-left",""),t.start(),e.delta.x>t.$element.width()/2&&t.previousRow(void 0,!1)}),this.setupLazyloadTrigers(),this.setElementHeight()},start:function(){var t=this;t.isRunning&&clearInterval(t.isRunning),t.options.auto&&(t.isRunning=setInterval(function(){t.nextRow()},t.options.interval))},stop:function(){clearInterval(this.isRunning),this.isRunning=void 0},nextRow:function o(t,e){var i=this;void 0===e&&(e=!0);var n,s="lg"==this.viewport?"transition":"transition-"+this.viewport,r=i.options.hasOwnProperty(s)?i.options[s]:"sliding";switch(r){case"sliding":var a=t?t:1,l=0;n=i.$element.find(".row").first(),e?(i.$element.css({dummy:""}),i.$element.animate({dummy:-100*a},{duration:i.options.duration,step:function(t){var e=t+100*l;-100>=e?(i.$element.append(n.css("margin-left","")),n=i.$element.find(".row").first(),l++):n.css("margin-left",e+"%")},complete:function(){i.currentRow=i.$rows.index(n),i.inViewRow=n,i.updateActiveDot(),i.updateInViewClasses(),n.css("margin-left","")}})):(i.$element.append(n.css("margin-left","")),i.inViewRow=n,n=i.$element.find(".row").first(),i.currentRow=i.$rows.index(n),i.updateActiveDot(),i.updateInViewClasses(),n.css("margin-left",""));break;case"slowFadeIn":case"fastFadeIn":case"zoomIn":n=i.$element.find('.row[data-active="true"]').length?i.$element.find('.row[data-active="true"]'):i.$element.find(".row").first();var o=n.is(i.$element.find(".row:last"))?i.$element.find(".row").first():n.next(),d="fastFadeIn"==r?400:1e3;void 0!==t&&(o=n.nextAll(".row").eq(t-1)),"zoomIn"==r?i.zoomAnimation(n,o,function(){i.inViewRow=o,i.currentRow=i.$rows.index(o),i.updateActiveDot(),i.updateInViewClasses()}):i.fadeAnimation(n,o,d,function(){i.inViewRow=o,i.currentRow=i.$rows.index(o),i.updateActiveDot(),i.updateInViewClasses()})}},previousRow:function(t,e){var i=this;void 0===e&&(e=!0);var n,o="lg"==this.viewport?"transition":"transition-"+this.viewport,s=i.options.hasOwnProperty(o)?i.options[o]:"sliding";switch(s){case"sliding":var r=t?t:1,a=0;n=i.$element.find(".row").last(),e?(i.$element.prepend(n.css("margin-left","-100%")),i.$element.css({dummy:""}),i.$element.animate({dummy:100*r},{duration:i.options.duration,step:function(t){var e=t-100*a;e>100?(i.$element.prepend(i.$element.find(".row").last().css("margin-left","-100%")),n.css("margin-left",""),n=i.$element.find(".row").first(),a++):n.css("margin-left",-(100-e)+"%")},complete:function(){i.currentRow=i.$rows.index(n),i.inViewRow=n,i.updateActiveDot(),i.updateInViewClasses(),n.css("margin-left","")}})):(i.$element.prepend(i.$element.find(".row").last().css("margin-left","-100%")),n.css("margin-left",""),i.inViewRow=n,n=i.$element.find(".row").first(),i.currentRow=i.$rows.index(n),i.updateActiveDot(),i.updateInViewClasses(),n.css("margin-left",""));break;case"fastFadeIn":case"slowFadeIn":case"zoomIn":n=i.$element.find('.row[data-active="true"]').length?i.$element.find('.row[data-active="true"]'):i.$element.find(".row").last();var l=n.is(i.$element.find(".row:first"))?i.$element.find(".row").last():n.prev(),d="fastFadeIn"==s?400:1e3;void 0!==t&&(l=n.prevAll(".row").eq(t-1)),"zoomIn"==s?i.zoomAnimation(n,l,function(){i.inViewRow=l,i.currentRow=i.$rows.index(l),i.updateActiveDot(),i.updateInViewClasses()}):i.fadeAnimation(n,l,d,function(){i.inViewRow=l,i.currentRow=i.$rows.index(l),i.updateActiveDot(),i.updateInViewClasses()})}},updateInViewClasses:function(){var e=this,n=this.$rows.length==this.currentRow+1?0:this.currentRow+1;n&&setTimeout(function(){t(e.$rows[n]).removeClass("hiddenBG")},this.options.interval/2),this.$element.find("> .row").addClass("outOfRowgroupView").removeClass("inRowgroupView"),this.inViewRow.removeClass("outOfRowgroupView hiddenBG").addClass("inRowgroupView"),t(i).trigger("scroll")},fadeAnimation:function(e,i,n,o){e.removeAttr("data-active").css({position:"absolute",top:0,left:0}).animate({opacity:0},{duration:n,queue:!1,complete:function(){t(this).addClass("normalizeSize").css({position:"",top:"",left:"","padding-left":0,"padding-right":0}),"function"==typeof o&&o()}}),i.css({opacity:0}).removeClass("normalizeSize").css({"padding-left":"","padding-right":""}).animate({opacity:1},{duration:n,queue:!1}).attr("data-active",!0)},zoomAnimation:function(e,i,n){i.find(".dummyDiv").length<1&&i.prepend('<div class="dummyDiv"></div>');var o=i.find(".dummyDiv");o.removeClass("zoomIn slowZoom").css("transform","scale(1)"),i.removeClass("zoomRow");var s=i.cssAll("background-image, background-position, background-size, background-repeat");i.addClass("zoomRow"),t.each(s,function(t,e){o.css(t,e)}),e.removeAttr("data-active").css({position:"absolute",top:0,left:0}).animate({opacity:0},{duration:1e3,queue:!1,complete:function(){t(this).addClass("normalizeSize").css({position:"",top:"",left:"","padding-left":0,"padding-right":0}),"function"==typeof n&&n()}}),i.css({opacity:0}).removeClass("normalizeSize").css({"padding-left":"","padding-right":""}).animate({opacity:1},{duration:1e3,queue:!1}).attr("data-active",!0),o.addClass("zoomIn").css("transform","scale(1.4)").one(this.supportedTransition,function(){t(this).removeClass("zoomIn").addClass("slowZoom").css({transform:"scale(1.8)"})})},createDots:function(){var e=this;e.$element.find(".dots").length&&e.$element.find(".dots").remove();var i=this.$element.attr("palette_dots"),n=i?"class='"+i+"'":"",o=t('<ul class="dots"></ul>');e.$rows.each(function(i){var s=t("<li "+n+"></li>");o.append(s),0===i&&o.find("li:eq(0)").addClass("active"),e.isInTool||s.on("click",function(){e.changeRow(o.find("li").index(s))})}),e.$element.append(o)},createArrows:function(){var e=this,n=this.$element.data("arrowBefore")||"Before",o=this.$element.data("arrowAfter")||"After",s=this.$element.attr("palette_arrow"),r=s?s:"",a=t('<a href="#" class="arrow arrowBefore '+r+'" title="'+n+'" aria-label="'+n+'">&#xF104;</a>'),l=t('<a href="#" class="arrow arrowAfter '+r+'" title="'+o+'" aria-label="'+o+'">&#xF105;</a>');this.$element.append([a,l]),a.add(l).on("mousedown",function(){e.stop()}),a.on("click",function(t){t.preventDefault(),e.start(),e.previousRow(),i._mtr&&i._mtr.track("rowgroup_prev")}),l.on("click",function(t){t.preventDefault(),e.start(),e.nextRow(),i._mtr&&i._mtr.track("rowgroup_next")})},updateActiveDot:function(t){var e=t?t:this.currentRow;this.$element.find(".dots li").removeClass("active"),this.$element.find(".dots li:eq("+e+")").addClass("active")},changeRow:function(t){t!==this.currentRow&&(t>this.currentRow?this.nextRow(t-this.currentRow):this.previousRow(this.currentRow-t))},setViewport:function(){this.$window.width()<768?this.viewport="sm":this.$window.width()<1200?this.viewport="md":this.viewport="lg"},bindResizeEvent:function(){var t=this;this.$window.on("resize.rowGroup",function(){t.windowWidth!==t.$window.width()&&(t.setViewport(),t.setElementHeight(),t.windowWidth=t.$window.width())})},setElementHeight:function(){var e=this,i="lg"==this.viewport?"transition":"transition-"+this.viewport,n=this.$element.find("> .row.normalizeSize");n.removeClass("normalizeSize"),this.$element.css("height",""),this.isInTool||"sliding"==this.options[i]?this.$rows.css({opacity:"",display:""}):_monoLoader.utils.waitFor(function(){var i=e.$element.find(".gallery,.imagelist,.catalog,.shopfilter");if(i.length){var n=i.length,o=0;return i.each(function(e,i){t(i).is(":visible")&&o++}),n==o}return!0},function(){e.$element.css("min-height",e.$element.outerHeight()+"px"),n.addClass("normalizeSize")})},setupLazyloadTrigers:function(){var t=this;this.$element.find("img").on("lazyloadFinished",function(){t.setElementHeight()})},destroy:function(){this.$element.find(".dots, .arrowAfter, .arrowBefore").remove(),this.$element.data("monorowgroup",null),this.$element.find(".row").removeClass("inRowgroupView outOfRowgroupView"),clearInterval(this.isRunning)},whichTransitionEvent:function(){var t,e=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(void 0!==e.style[t])return i[t]}},t.fn.monorowgroup=function(e){return this.each(function(){t.data(this,"monorowgroup")||t.data(this,"monorowgroup",new n(this,e))})}}(jQuery,Modernizr,window),$.fn.cssAll=function(t){var e={};if(this.length)for(var i=t.split(","),n=[],o=0;o<i.length;o++)n=i[o].split(":"),void 0!==$(this).css((n[1]||n[0]).trim())&&(e[n[0].trim()]=$(this).css((n[1]||n[0]).trim()));return e},$("body").find(".rowGroup").each(function(t,e){function i(t){if(!t)return{};var e={},i=t.split(",");return $(i).each(function(t,i){var n=i.split("=");n[0]=n[0].replace(" ",""),""!==n[1]&&(e[n[0]]="true"==n[1]||"false"==n[1]?"true"==n[1]:n[1])}),e}$(e).monorowgroup(i($(e).attr("data-rowgroupsettings")))});