"use strict";var _monoBlogpost={isInTool:document.body.hasAttribute("data-istool"),init:function(){function t(){$.fn.monosocial&&(o.monosocial(),clearInterval(e))}$('*[data-role="scrollTrigger"]').on("click.blogscroll",this.scroll);var e=setInterval(t,200),o=$("*[data-monosocial]");this.isInTool||this.checkHash(),$(".blogShare").on("keypress",function(t){13==t.keyCode&&t.target.click()}),this.initializeProgressBar()},initializeProgressBar:function(){var t=document.getElementsByClassName("progressbar")[0];if(t){var e=document.getElementsByClassName("progressbar-bg")[0],o=document.getElementsByClassName("progressbarContent")[0],n=o.getBoundingClientRect().top,a=o.offsetHeight,s=a-n;e.style.minWidth=document.width+"px",document.getElementsByTagName("body")[0].onresize=function(){e.style.minWidth=document.width+"px"},window.addEventListener("scroll",function(){var e=document.documentElement.clientHeight?document.documentElement.scrollTop:document.body.scrollTop,o=n>=e||e>a?0:100*(e-n)/s;t.style.width=o+"%"})}},scroll:function(t){t.preventDefault();var e=$(t.currentTarget),o=$(e.attr("data-target")),n=o.offset().top;$("html,body").animate({scrollTop:n},500,"swing")},checkHash:function(){var t=$(".singlePost").attr("data-cache-hash");return this.isInTool?!1:void $.get(window.location.href,{hash:t}).done(function(e){var o=$(e).attr("data-cache-hash");t!==o&&$(".singlePost").replaceWith(e)})},getNewComments:function(){var t=$(".commentsInfoText").last().attr("data-attr-id"),e=$(".singlePost").attr("data-attr-id"),o={status:"approved",postId:e};void 0!==t&&(o.since=t),$.get("/api.php/blog/comments",o).done(function(t){var e=t[0].data;if(e.length)for(var o=0;o<e.length;o++){var n=e[o],a=n.content.replace(/[\u00A0-\u9999<>\&]/gim,function(t){return"&#"+t.charCodeAt(0)+";"}),s='<p class="smalltext commentsInfoText" data-attr-id="'+n.id+'">'+n.author;s=s+'<span class="dateString"> '+n.localizedCreatedAt+" </span></p>",s+='<div class="module divider"></div>',s+='<div class="module text">',s=s+'<p class="bodytext commentContent">'+a+"</p>",s+="</div>",$(".commentsList").append(s),$("#commentsArea").show()}})}};_monoBlogpost.init();