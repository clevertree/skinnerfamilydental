"use strict";!function(i,t,e){var s=function(t,s){var n={auto:!1,arrows:!1,dots:!1,interval:5e3,duration:600,pause:!1,transition:"sliding","transition-md":"sliding","transition-sm":"sliding",viewport:"lg",blognr:!1,"blognr-md":!1,"blognr-sm":!1};this.$element=i(t),this.$slidesContainer=this.$element.find(".slides"),this.$window=i(e),this.liNr=this.$element.find(".slide ul li.post").length,this.$slides=!1,this.isRunning=void 0,this.slideCount=null,this.currentSlide=0,this.isInTool=document.body.hasAttribute("data-istool"),this.options=i.extend({},n,s),this.lazyload=this.lazyload=(i("body").attr("data-req")||"").indexOf("lazyload")>-1,this.init()};s.prototype={init:function(){var t=this;this.checkHash(function(){if(t.$element.on("lazyloadFinished",function(){t.setElementHeight(function(){"sliding"===t.options.transition||["Puppeteer/imageSizesCrawler","PhantomJS/monoTool"].includes(e.navigator.userAgent)||(t.$slidesContainer.find(".slide").hide(),t.$slidesContainer.find(".slide").eq(0).show())})}),t.reassureIfEmpty(),t.setPortraits(),t.setViewport(),t.createSlides(1),t.lazyload&&0!==t.$element.find(".thumb").length||t.setElementHeight(function(){"sliding"===t.options.transition||["Puppeteer/imageSizesCrawler","PhantomJS/monoTool"].includes(e.navigator.userAgent)||(t.$slidesContainer.find(".slide").hide(),t.$slidesContainer.find(".slide").eq(0).show())}),t.$window.on("resize",function(){var i=t.viewport;t.setViewport(),t.viewport!==i&&t.createSlides()}),void 0!==i("body").attr("data-enablefocusindication")){var s=0,n=void 0,o=this.$slides.find("li a"),a=document.body.hasAttribute("data-istool")||document.body.hasAttribute("data-sandbox");e._monoLoader.utils.waitFor(function(){return n=a?document.getElementById("style_ariaFocus"):document.getElementById("style_site")},function(){a?s=n.sheet.cssRules[0].style.outlineWidth:(n=Array.from(n).filter(function(i){return i.selectorText&&i.selectorText.match("data-enableFocusIndication")})[0],s=n.style.outlineWidth),o.each(function(i,t){t.style.setProperty("--outlinewidth",s)})},7e3,50)}})},reassureIfEmpty:function(){0!==this.listNr&&this.$element.hasClass("empty")&&this.$element.removeClass("empty")},setPortraits:function(){this.$element.find("img").each(function(t,e){var s=new Image;s.src=i(e).attr("src"),s.height>s.width&&i(e).addClass("portrait")})},setViewport:function(){this.$window.width()<768?this.viewport="sm":this.$window.width()<1200?this.viewport="md":this.viewport="lg"},setElementHeight:function(t){var e=this,s="lg"===this.viewport?"transition":"transition-"+this.viewport,n=this.$element.find(".slide.normalizeSize"),o=this.$element.find("> .slides");n.removeClass("normalizeSize"),o.css("height",""),this.isInTool||"sliding"===this.options[s]?o.find(".slide").css({opacity:"",display:""}):_monoLoader.utils.waitFor(function(){var t=i("body").find(".gallery,.imagelist,.catalog,.shopfilter");if(t.length){var e=t.length,s=0;return t.each(function(t,e){i(e).is(":visible")&&s++}),e===s}return!0},function(){o.css("height",e.getPicSlideHeight()+"px"),n.addClass("normalizeSize"),"function"==typeof t&&t()})},createSlides:function(t){var s,n,o=this.options.blognr?parseInt(this.options.blognr):!1,a=this;if("sm"===this.viewport?this.options["blognr-sm"]?o=parseInt(this.options["blognr-sm"]):this.options["blognr-md"]&&(o=parseInt(this.options["blognr-md"])):"md"===this.viewport&&this.options["blognr-md"]&&(o=parseInt(this.options["blognr-md"])),o&&this.$slidesContainer.find(".slide").length>1&&(this.$slidesContainer.find(".slide:not([data-firstslide]) li.post").appendTo(this.$slidesContainer.find(".slide[data-firstslide] ul.posts")),this.$slidesContainer.find(".slide:not([data-firstslide])").remove()),t&&(this.$slidesContainer.find(".slide").removeAttr("data-firstslide"),this.$slidesContainer.find(".slide").attr("data-firstslide",!0)),this.$element.find(".dots, .arrowAfter, .arrowBefore").remove(),o){for(var r=0;r<parseInt(this.liNr/o);r++){var l=this.$element.find(".slide[data-firstslide] ul li.post");if(l.length>o)for(var d=i('<div class="slide"><ul class="posts clear"></ul></div>').appendTo(this.$slidesContainer),f=0;o>f;f++)l[o+f]&&i(l[o+f]).appendTo(d.find("ul.posts"))}this.$slides=this.$slidesContainer.find(".slide"),this.slideCount=this.$slides.length,this.slideCount>1&&(this.initSlider(),this.isInTool&&e.parent.iframeGrids&&e.parent.iframeGrids.remakeGridsStyle())}s="lg"===this.viewport?"blogcols":"blogcols-"+this.viewport,n=parseInt(this.liNr%this.options[s])?1+parseInt(this.liNr/this.options[s]):parseInt(this.liNr/this.options[s]);for(var c=0;n>c;c++){var h=a.$element.find(".slide ul li.post").slice(c*a.options[s],c*a.options[s]+parseInt(a.options[s])),u=h.map(function(){return i(this).height()}).get();if((parseInt(this.options[s])>1||1===parseInt(this.options[s])&&this.options.blognr&&parseInt(this.options.blognr)<1)&&!a.lazyload){var p=Math.max.apply(null,u);p>0&&h.height(p)}}a.lazyload&&a.$element.on("lazyloadFinished",function(){a.setElementHeight()}),this.$slidesContainer.show(),this.$element.data("slidesCreated",!0)},initSlider:function(){var i=this;return this.options.dots&&this.createDots(),this.options.arrows&&this.createArrows(),this.isInTool?!1:(i.slideCount>0&&i.start(),!t.touchevents&&i.options.pause&&i.slideCount>0&&i.$slidesContainer.on({mouseenter:function(){i.stop()},mouseleave:function(){i.start()}}),i.$slidesContainer.on("swipe",function(t){var e="left"===t.direction?-t.delta.x:t.delta.x;i.$slidesContainer.find(".slide:first").css("margin-left",e+"px")}),i.$slidesContainer.on("quickswipeleft",function(){i.$slidesContainer.find(".slide:first").css("margin-left",""),i.start(),i.nextSlide(void 0,!1)}),i.$slidesContainer.on("quickswiperight",function(){i.$slidesContainer.find(".slide:first").css("margin-left",""),i.start(),i.previousSlide(void 0,!1)}),i.$slidesContainer.on("swipeleft",function(t){i.$slidesContainer.find(".slide:first").css("margin-left",""),i.start(),t.delta.x>i.$slidesContainer.width()/2&&i.nextSlide(void 0,!1)}),void i.$slidesContainer.on("swiperight",function(t){i.$slidesContainer.find(".slide:first").css("margin-left",""),i.start(),t.delta.x>i.$slidesContainer.width()/2&&i.previousSlide(void 0,!1)}))},start:function(){var i=this;i.isRunning&&clearInterval(i.isRunning),i.options.auto&&(i.isRunning=setInterval(function(){i.nextSlide()},i.options.interval))},stop:function(){clearInterval(this.isRunning),this.isRunning=void 0},destroy:function(){this.$element.find(".dots, .arrowAfter, .arrowBefore").remove(),this.$element.data("monoblogcatalog",null),this.$slidesContainer.find(".slide:not([data-firstslide]) li.post").appendTo(this.$slidesContainer.find(".slide[data-firstslide] ul.posts")),this.$slidesContainer.find(".slide:not([data-firstslide])").remove(),this.$slidesContainer.find(".slide[data-firstslide]").removeAttr("data-firstslide")},nextSlide:function n(i,t){var e=this;void 0===t&&(t=!0);var s,o="lg"===this.viewport?"transition":"transition-"+this.viewport,a=e.options.hasOwnProperty(o)?e.options[o]:"sliding";switch(a){case"sliding":var r=i?i:1,l=0;s=e.$slidesContainer.find(".slide").first(),t?(e.$slidesContainer.css({dummy:""}),e.$slidesContainer.animate({dummy:-100*r},{duration:e.options.duration,step:function(i){var t=i+100*l;-100>=t?(e.$slidesContainer.append(s.css("margin-left","")),s=e.$slidesContainer.find(".slide").first(),l++):s.css("margin-left",t+"%")},complete:function(){e.currentSlide=e.$slides.index(s),e.updateActiveDot(),s.css("margin-left","")}})):(e.$slidesContainer.append(s.css("margin-left","")),s=e.$slidesContainer.find(".slide").first(),e.currentSlide=e.$slides.index(s),e.updateActiveDot(),s.css("margin-left",""));break;case"slowFadeIn":case"fastFadeIn":var d=e.$slidesContainer.find(".slide"),f="fastFadeIn"===a?400:1e3;s=e.$slidesContainer.find('.slide[data-active="true"]').length?e.$slidesContainer.find('.slide[data-active="true"]'):d.first();var n=s.is(e.$slidesContainer.find(".slide:last"))?e.$slidesContainer.find(".slide").first():s.next();void 0!==i&&(n=s.nextAll(".slide").eq(i-1)),e.fadeAnimation(s,n,f),e.currentSlide=e.$slides.index(n),e.updateActiveDot()}},previousSlide:function(i,t){var e=this;void 0===t&&(t=!0);var s,n="lg"===this.viewport?"transition":"transition-"+this.viewport,o=e.options.hasOwnProperty(n)?e.options[n]:"sliding";switch(o){case"sliding":var a=i?i:1,r=0;s=e.$slidesContainer.find(".slide").last(),t?(e.$slidesContainer.prepend(s.css("margin-left","-100%")),e.$slidesContainer.css({dummy:""}),e.$slidesContainer.animate({dummy:100*a},{duration:e.options.duration,step:function(i){var t=i-100*r;t>100?(e.$slidesContainer.prepend(e.$slidesContainer.find(".slide").last().css("margin-left","-100%")),s.css("margin-left",""),s=e.$slidesContainer.find(".slide").first(),r++):s.css("margin-left",-(100-t)+"%")},complete:function(){e.currentSlide=e.$slides.index(s),e.updateActiveDot(),s.css("margin-left","")}})):(e.$slidesContainer.prepend(e.$slidesContainer.find(".slide").last().css("margin-left","-100%")),s.css("margin-left",""),s=e.$slidesContainer.find(".slide").first(),e.currentSlide=e.$slides.index(s),e.updateActiveDot(),s.css("margin-left",""));break;case"fastFadeIn":case"slowFadeIn":var l=e.$slidesContainer.find(".slide"),d="fastFadeIn"===o?400:1e3;s=e.$slidesContainer.find('.slide[data-active="true"]').length?e.$slidesContainer.find('.slide[data-active="true"]'):l.last();var f=s.is(e.$slidesContainer.find(".slide:first"))?e.$slidesContainer.find(".slide").last():s.prev();void 0!==i&&(f=s.prevAll(".slide").eq(i-1)),e.fadeAnimation(s,f,d),e.currentSlide=e.$slides.index(f),e.updateActiveDot()}},changeSlide:function(i){i!==this.currentSlide&&(i>this.currentSlide?this.nextSlide(i-this.currentSlide):this.previousSlide(this.currentSlide-i))},fadeAnimation:function(t,e,s,n){t.removeAttr("data-active").css({position:"absolute",top:0,left:0}).animate({opacity:0},{duration:s,queue:!1,complete:function(){i(this).css({position:"",top:"",left:"",display:"none"}),"function"==typeof n&&n()}}),e.css({opacity:0,display:"block"}).animate({opacity:1},{duration:s,queue:!1}).attr("data-active",!0)},getPicSlideHeight:function(){return this.$slidesContainer.find(".slide").find(".pics").height()},createDots:function(){var t=this;t.$slidesContainer.find(".dots").length&&t.$slidesContainer.find(".dots").remove();var e=this.$element.attr("palette_dots"),s=e?"class='"+e+"'":"",n=i('<ul class="dots"></ul>');t.$slides.each(function(e){var o=i("<li "+s+"></li>");n.append(o),0===e&&n.find("li:eq(0)").addClass("active"),t.isInTool||o.on("click",function(){t.changeSlide(n.find("li").index(o))})}),t.$element.find(".slides").append(n)},updateActiveDot:function(i){var t=i?i:this.currentSlide;this.$slidesContainer.find(".dots li").removeClass("active"),this.$slidesContainer.find(".dots li:eq("+t+")").addClass("active")},createArrows:function(){if(!this.$slidesContainer.find(".arrowBefore").length){var t=this.$element.attr("palette_arrow"),s=t?t:"",n=this,o=i('<a href="#" class="arrow arrowBefore '+s+'" title="Before" aria-label="Previous Post">&#xF104;</a>'),a=i('<a href="#" class="arrow arrowAfter '+s+'"title="After" aria-label="Next Post">&#xF105;</a>');this.$slidesContainer.append([o,a]),o.add(a).on("mousedown",function(){n.stop()}),o.on("click",function(i){i.preventDefault(),n.start(),n.previousSlide(),e._mtr&&e._mtr.track("blog_prev")}),a.on("click",function(i){i.preventDefault(),n.start(),n.nextSlide(),e._mtr&&e._mtr.track("blog_next")})}},checkHash:function(t){if(this.isInTool)return t(),!1;var s=this,n=i("body").attr("id"),o=this.$element.attr("id"),a=this.$element.attr("data-cache-hash");i.get(e.location.url,{p:n,m:o,hash:a}).done(function(e){i(e).attr("data-cache-hash")!==a&&i(s.$element.replaceWith(e)),t&&t()})}},i.fn.monoblogcatalog=function(t){return this.each(function(){i.data(this,"monoblogcatalog")||i.data(this,"monoblogcatalog",new s(this,t))})}}(jQuery,Modernizr,window),$('[data-req*="blog"]').each(function(i,t){function e(i){if(!i)return{};var t={},e=i.split(",");return $(e).each(function(i,e){var s=e.split("=");s[0]=s[0].replace(" ",""),t[s[0]]="true"===s[1]||"false"===s[1]?"true"===s[1]:s[1]}),t}$(t).monoblogcatalog(e($(t).attr("data-settings")))});