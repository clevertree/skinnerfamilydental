"use strict";!function(t,e,o){var n=function(n,i,s){var a={callback:!1};this.$body=t("body"),this.$element=t(n),this.socialType=this.$element.attr("data-monosocial"),this.shareUrl=this.$element.attr("data-monoshare")&&""!=this.$element.attr("data-monoshare")?this.$element.attr("data-monoshare"):o.location.href,this.isInTool=document.body.hasAttribute("data-istool"),this.count=0,this.markers=[],this.options=t.extend({},a,i),this.closeEvent="click",this.event="click",this.init(s),e.touchevents&&(this.closeEvent="tap",this.event="tap")};n.prototype={init:function(){switch(this.bindEvents(),this.socialType){case"facebook":this.getFacebookCount();break;default:return!1}},bindEvents:function(){var t=this;t.$element.on(this.event,function(){t.openShareWindow(700,500)})},getFacebookCount:function(){var e=this,o={command:"FbShareCount",socialType:this.socialType,postURL:this.shareUrl};t.post("/api.php/utils/socialsharecount",o,function(t){t[0]&&t[0].hasOwnProperty("share_count")&&e.$element.text(t[0].share_count)})},openShareWindow:function(t,e){var n,i,s=this,a={facebook:"//www.facebook.com/sharer.php?u=",twitter:"//twitter.com/share?url=",linkedin:"//www.linkedin.com/shareArticle?mini=true&url=",googleplus:"//plus.google.com/share?url="};n=o.screen.width/2-(t/2+10),i=o.screen.height/2-(e/2+50),o.open(a[s.socialType]+s.shareUrl,"share","status=no,height="+e+",width="+t+",resizable=yes,left="+n+",top="+i+",screenX="+n+",screenY="+i+",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no")}},t.fn.monosocial=function(e){return this.each(function(){t.data(this,"monosocial")||t.data(this,"monosocial",new n(this,e))})}}(jQuery,Modernizr,window);